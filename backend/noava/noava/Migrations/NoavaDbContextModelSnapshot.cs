// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;
using noava.Data;

#nullable disable

namespace noava.Migrations
{
    [DbContext(typeof(NoavaDbContext))]
    partial class NoavaDbContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.23")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("noava.Models.AggregateStatistics.ClassroomDeckStatistics", b =>
                {
                    b.Property<int>("ClassroomId")
                        .HasColumnType("integer");

                    b.Property<int>("DeckId")
                        .HasColumnType("integer");

                    b.Property<double>("AccuracyRate")
                        .HasColumnType("decimal(5,2)");

                    b.Property<double>("AvgMasteryLevel")
                        .HasColumnType("decimal(5,2)");

                    b.Property<int>("AvgResponseTimeMs")
                        .HasColumnType("integer");

                    b.Property<int>("AvgTimeSpentSeconds")
                        .HasColumnType("integer");

                    b.Property<int>("CardsReviewed")
                        .HasColumnType("integer");

                    b.Property<int>("CorrectCards")
                        .HasColumnType("integer");

                    b.Property<DateTime>("LastReviewedAt")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("ClassroomId", "DeckId");

                    b.HasIndex("DeckId");

                    b.ToTable("ClassroomDeckStatistics");
                });

            modelBuilder.Entity("noava.Models.AggregateStatistics.ClassroomUserStatistics", b =>
                {
                    b.Property<int>("ClassroomId")
                        .HasColumnType("integer");

                    b.Property<string>("ClerkId")
                        .HasColumnType("text");

                    b.Property<double>("AccuracyRate")
                        .HasColumnType("decimal(5,2)");

                    b.Property<double>("AvgMasteryLevel")
                        .HasColumnType("decimal(5,2)");

                    b.Property<int>("CardsReviewed")
                        .HasColumnType("integer");

                    b.Property<int>("CorrectCards")
                        .HasColumnType("integer");

                    b.Property<DateTime>("LastReviewedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("TimeSpentSeconds")
                        .HasColumnType("integer");

                    b.HasKey("ClassroomId", "ClerkId");

                    b.HasIndex("ClerkId");

                    b.ToTable("ClassroomUserStatistics");
                });

            modelBuilder.Entity("noava.Models.AggregateStatistics.DeckUserStatistics", b =>
                {
                    b.Property<int>("DeckId")
                        .HasColumnType("integer");

                    b.Property<string>("ClerkId")
                        .HasColumnType("text");

                    b.Property<double>("AccuracyRate")
                        .HasColumnType("decimal(5,2)");

                    b.Property<double>("AvgMasteryLevel")
                        .HasColumnType("decimal(5,2)");

                    b.Property<int>("AvgResponseTimeMs")
                        .HasColumnType("integer");

                    b.Property<int>("CardsReviewed")
                        .HasColumnType("integer");

                    b.Property<int>("CorrectCards")
                        .HasColumnType("integer");

                    b.Property<DateTime>("LastReviewedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("TimeSpentSeconds")
                        .HasColumnType("integer");

                    b.HasKey("DeckId", "ClerkId");

                    b.HasIndex("ClerkId");

                    b.ToTable("DeckUserStatistics");
                });

            modelBuilder.Entity("noava.Models.Card", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("BackAudio")
                        .HasColumnType("text");

                    b.Property<string>("BackImage")
                        .HasColumnType("text");

                    b.Property<string>("BackText")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasDefaultValueSql("now()");

                    b.Property<int>("DeckId")
                        .HasColumnType("integer");

                    b.Property<string>("FrontAudio")
                        .HasColumnType("text");

                    b.Property<string>("FrontImage")
                        .HasColumnType("text");

                    b.Property<string>("FrontText")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<bool>("HasVoiceAssistant")
                        .HasColumnType("boolean");

                    b.Property<string>("Memo")
                        .HasColumnType("text");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasDefaultValueSql("now()");

                    b.HasKey("Id");

                    b.HasIndex("DeckId");

                    b.ToTable("Cards");
                });

            modelBuilder.Entity("noava.Models.CardInteraction", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("CardId")
                        .HasColumnType("integer");

                    b.Property<string>("ClerkId")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("DeckId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("DueAtAfter")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("DueAtBefore")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("IntervalAfter")
                        .HasColumnType("integer");

                    b.Property<int>("IntervalBefore")
                        .HasColumnType("integer");

                    b.Property<bool>("IsCorrect")
                        .HasColumnType("boolean");

                    b.Property<int>("ResponseTimeMs")
                        .HasColumnType("integer");

                    b.Property<int>("StudyMode")
                        .HasColumnType("integer");

                    b.Property<int>("StudySessionId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasDefaultValueSql("now()");

                    b.HasKey("Id");

                    b.HasIndex("CardId");

                    b.HasIndex("ClerkId");

                    b.HasIndex("DeckId");

                    b.HasIndex("StudySessionId");

                    b.ToTable("CardInteractions", t =>
                        {
                            t.HasCheckConstraint("CK_CardInteractions_ResponseTimeMs_NonNegative", "\"ResponseTimeMs\" >= 0");
                        });
                });

            modelBuilder.Entity("noava.Models.CardProgress", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("BoxNumber")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(1);

                    b.Property<int>("CardId")
                        .HasColumnType("integer");

                    b.Property<string>("ClerkId")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("CorrectCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0);

                    b.Property<int>("IncorrectCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0);

                    b.Property<DateTime>("LastReviewedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateOnly>("NextReviewDate")
                        .HasColumnType("date");

                    b.Property<int>("Streak")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0);

                    b.HasKey("Id");

                    b.HasIndex("CardId");

                    b.HasIndex("ClerkId");

                    b.ToTable("CardProgress", t =>
                        {
                            t.HasCheckConstraint("CK_CardProgress_BoxNumber_NonNegative", "\"BoxNumber\" >= 1 AND \"BoxNumber\" <= 5");

                            t.HasCheckConstraint("CK_CardProgress_Counts_NonNegative", "\"CorrectCount\" >= 0 AND \"IncorrectCount\" >= 0 AND \"Streak\" >= 0");
                        });
                });

            modelBuilder.Entity("noava.Models.Classroom", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("JoinCode")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<int?>("SchoolId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("JoinCode")
                        .IsUnique();

                    b.HasIndex("SchoolId");

                    b.ToTable("Classrooms");
                });

            modelBuilder.Entity("noava.Models.ClassroomDeck", b =>
                {
                    b.Property<int>("ClassroomId")
                        .HasColumnType("integer");

                    b.Property<int>("DeckId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("AddedAt")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("ClassroomId", "DeckId");

                    b.HasIndex("DeckId");

                    b.ToTable("ClassroomDecks");
                });

            modelBuilder.Entity("noava.Models.ClassroomUser", b =>
                {
                    b.Property<int>("ClassroomId")
                        .HasColumnType("integer");

                    b.Property<string>("UserId")
                        .HasColumnType("text");

                    b.Property<bool>("IsTeacher")
                        .HasColumnType("boolean");

                    b.HasKey("ClassroomId", "UserId");

                    b.HasIndex("UserId");

                    b.ToTable("ClassroomUsers");
                });

            modelBuilder.Entity("noava.Models.Deck", b =>
                {
                    b.Property<int>("DeckId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("DeckId"));

                    b.Property<string>("CoverImageBlobName")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)");

                    b.Property<string>("JoinCode")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Language")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<int>("Visibility")
                        .HasColumnType("integer");

                    b.HasKey("DeckId");

                    b.HasIndex("UserId");

                    b.ToTable("Decks");

                    b.HasData(
                        new
                        {
                            DeckId = 1,
                            CreatedAt = new DateTime(2026, 2, 19, 14, 2, 45, 444, DateTimeKind.Utc).AddTicks(7325),
                            Description = "Franse woorden voor beginners",
                            JoinCode = "",
                            Language = "Frans",
                            Title = "Frans Woordenschat",
                            UpdatedAt = new DateTime(2026, 2, 19, 14, 2, 45, 444, DateTimeKind.Utc).AddTicks(7325),
                            UserId = "user_38TGbnbcmzK7uZAbaABqTtzQtvz",
                            Visibility = 0
                        },
                        new
                        {
                            DeckId = 2,
                            CreatedAt = new DateTime(2026, 2, 19, 14, 2, 45, 444, DateTimeKind.Utc).AddTicks(7327),
                            Description = "Engelse grammatica oefeningen",
                            JoinCode = "",
                            Language = "Engels",
                            Title = "Engels Grammatica",
                            UpdatedAt = new DateTime(2026, 2, 19, 14, 2, 45, 444, DateTimeKind.Utc).AddTicks(7328),
                            UserId = "user_38TGbnbcmzK7uZAbaABqTtzQtvz",
                            Visibility = 2
                        },
                        new
                        {
                            DeckId = 3,
                            CreatedAt = new DateTime(2026, 2, 19, 14, 2, 45, 444, DateTimeKind.Utc).AddTicks(7330),
                            Description = "Spaanse zinnen voor dagelijks gebruik",
                            JoinCode = "",
                            Language = "Spaans",
                            Title = "Spaans Conversatie",
                            UpdatedAt = new DateTime(2026, 2, 19, 14, 2, 45, 444, DateTimeKind.Utc).AddTicks(7330),
                            UserId = "user_38TGbnbcmzK7uZAbaABqTtzQtvz",
                            Visibility = 1
                        });
                });

            modelBuilder.Entity("noava.Models.DeckInvitation", b =>
                {
                    b.Property<int>("InvitationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("InvitationId"));

                    b.Property<int>("DeckId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("InvitedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("InvitedByClerkId")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("InvitedUserClerkId")
                        .HasColumnType("text");

                    b.Property<string>("InvitedUserEmail")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<DateTime?>("RespondedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text");

                    b.HasKey("InvitationId");

                    b.HasIndex("DeckId");

                    b.HasIndex("InvitedByClerkId");

                    b.HasIndex("InvitedUserClerkId");

                    b.HasIndex("InvitedUserEmail");

                    b.HasIndex("Status");

                    b.ToTable("DeckInvitations", (string)null);
                });

            modelBuilder.Entity("noava.Models.DeckUser", b =>
                {
                    b.Property<string>("ClerkId")
                        .HasColumnType("text")
                        .HasColumnName("ClerkId");

                    b.Property<int>("DeckId")
                        .HasColumnType("integer")
                        .HasColumnName("DeckId");

                    b.Property<DateTime>("AddedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("AddedAt");

                    b.Property<bool>("IsOwner")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("IsOwner");

                    b.HasKey("ClerkId", "DeckId");

                    b.HasIndex("ClerkId");

                    b.HasIndex("DeckId");

                    b.ToTable("Decks_Users", (string)null);
                });

            modelBuilder.Entity("noava.Models.FAQ", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("Answer")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("FaqKey")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Question")
                        .IsRequired()
                        .HasColumnType("text");

                    b.HasKey("Id");

                    b.ToTable("FAQs");
                });

            modelBuilder.Entity("noava.Models.Notification", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Link")
                        .HasColumnType("text");

                    b.Property<string>("ParametersJson")
                        .HasColumnType("text");

                    b.Property<string>("TemplateKey")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("TitleKey")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("text");

                    b.HasKey("Id");

                    b.HasIndex("UserId");

                    b.ToTable("Notifications");
                });

            modelBuilder.Entity("noava.Models.NotificationAction", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<string>("Endpoint")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("LabelKey")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Method")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<long>("NotificationId")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("NotificationId");

                    b.ToTable("NotificationActions");
                });

            modelBuilder.Entity("noava.Models.School", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("CreatedBy");

                    b.ToTable("Schools");
                });

            modelBuilder.Entity("noava.Models.SchoolAdmin", b =>
                {
                    b.Property<int>("SchoolId")
                        .HasColumnType("integer");

                    b.Property<string>("ClerkId")
                        .HasColumnType("text");

                    b.HasKey("SchoolId", "ClerkId");

                    b.HasIndex("ClerkId");

                    b.ToTable("SchoolAdmins");
                });

            modelBuilder.Entity("noava.Models.StudySession", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("ClerkId")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("CorrectCount")
                        .HasColumnType("integer");

                    b.Property<int>("DeckId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("EndTime")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasDefaultValueSql("now()");

                    b.Property<DateTime>("StartTime")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("TotalCards")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("ClerkId");

                    b.HasIndex("DeckId");

                    b.ToTable("StudySessions", t =>
                        {
                            t.HasCheckConstraint("CK_StartTime_EndTime", "\"EndTime\" >= \"StartTime\"");

                            t.HasCheckConstraint("CK_StudySessions_CorrectCount", "\"CorrectCount\" >= 0 AND \"CorrectCount\" <= \"TotalCards\"");
                        });
                });

            modelBuilder.Entity("noava.Models.User", b =>
                {
                    b.Property<string>("ClerkId")
                        .HasColumnType("text");

                    b.Property<bool>("ReceiveNotificationEmails")
                        .HasColumnType("boolean");

                    b.Property<string>("Role")
                        .IsRequired()
                        .HasColumnType("text");

                    b.HasKey("ClerkId");

                    b.ToTable("Users");
                });

            modelBuilder.Entity("noava.Models.AggregateStatistics.ClassroomDeckStatistics", b =>
                {
                    b.HasOne("noava.Models.Classroom", "Classroom")
                        .WithMany()
                        .HasForeignKey("ClassroomId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("noava.Models.Deck", "Deck")
                        .WithMany()
                        .HasForeignKey("DeckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Classroom");

                    b.Navigation("Deck");
                });

            modelBuilder.Entity("noava.Models.AggregateStatistics.ClassroomUserStatistics", b =>
                {
                    b.HasOne("noava.Models.Classroom", "Classroom")
                        .WithMany()
                        .HasForeignKey("ClassroomId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("noava.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("ClerkId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Classroom");

                    b.Navigation("User");
                });

            modelBuilder.Entity("noava.Models.AggregateStatistics.DeckUserStatistics", b =>
                {
                    b.HasOne("noava.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("ClerkId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("noava.Models.Deck", "Deck")
                        .WithMany()
                        .HasForeignKey("DeckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Deck");

                    b.Navigation("User");
                });

            modelBuilder.Entity("noava.Models.Card", b =>
                {
                    b.HasOne("noava.Models.Deck", null)
                        .WithMany()
                        .HasForeignKey("DeckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("noava.Models.CardInteraction", b =>
                {
                    b.HasOne("noava.Models.Card", null)
                        .WithMany()
                        .HasForeignKey("CardId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("noava.Models.User", null)
                        .WithMany()
                        .HasForeignKey("ClerkId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("noava.Models.Deck", null)
                        .WithMany()
                        .HasForeignKey("DeckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("noava.Models.StudySession", null)
                        .WithMany()
                        .HasForeignKey("StudySessionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("noava.Models.CardProgress", b =>
                {
                    b.HasOne("noava.Models.Card", null)
                        .WithMany()
                        .HasForeignKey("CardId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("noava.Models.User", null)
                        .WithMany()
                        .HasForeignKey("ClerkId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("noava.Models.Classroom", b =>
                {
                    b.HasOne("noava.Models.School", "School")
                        .WithMany("Classrooms")
                        .HasForeignKey("SchoolId");

                    b.Navigation("School");
                });

            modelBuilder.Entity("noava.Models.ClassroomDeck", b =>
                {
                    b.HasOne("noava.Models.Classroom", "Classroom")
                        .WithMany("ClassroomDecks")
                        .HasForeignKey("ClassroomId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("noava.Models.Deck", "Deck")
                        .WithMany("ClassroomDecks")
                        .HasForeignKey("DeckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Classroom");

                    b.Navigation("Deck");
                });

            modelBuilder.Entity("noava.Models.ClassroomUser", b =>
                {
                    b.HasOne("noava.Models.Classroom", "Classroom")
                        .WithMany("ClassroomUsers")
                        .HasForeignKey("ClassroomId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("noava.Models.User", "User")
                        .WithMany("ClassroomUsers")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Classroom");

                    b.Navigation("User");
                });

            modelBuilder.Entity("noava.Models.DeckInvitation", b =>
                {
                    b.HasOne("noava.Models.Deck", "Deck")
                        .WithMany()
                        .HasForeignKey("DeckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("noava.Models.User", "InvitedBy")
                        .WithMany()
                        .HasForeignKey("InvitedByClerkId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("noava.Models.User", "InvitedUser")
                        .WithMany()
                        .HasForeignKey("InvitedUserClerkId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Deck");

                    b.Navigation("InvitedBy");

                    b.Navigation("InvitedUser");
                });

            modelBuilder.Entity("noava.Models.DeckUser", b =>
                {
                    b.HasOne("noava.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("ClerkId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("noava.Models.Deck", "Deck")
                        .WithMany("DeckUsers")
                        .HasForeignKey("DeckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Deck");

                    b.Navigation("User");
                });

            modelBuilder.Entity("noava.Models.Notification", b =>
                {
                    b.HasOne("noava.Models.User", "User")
                        .WithMany("Notifications")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("noava.Models.NotificationAction", b =>
                {
                    b.HasOne("noava.Models.Notification", "Notification")
                        .WithMany("Actions")
                        .HasForeignKey("NotificationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Notification");
                });

            modelBuilder.Entity("noava.Models.School", b =>
                {
                    b.HasOne("noava.Models.User", "CreatedByUser")
                        .WithMany()
                        .HasForeignKey("CreatedBy")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("CreatedByUser");
                });

            modelBuilder.Entity("noava.Models.SchoolAdmin", b =>
                {
                    b.HasOne("noava.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("ClerkId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("noava.Models.School", "School")
                        .WithMany("SchoolAdmins")
                        .HasForeignKey("SchoolId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("School");

                    b.Navigation("User");
                });

            modelBuilder.Entity("noava.Models.StudySession", b =>
                {
                    b.HasOne("noava.Models.User", null)
                        .WithMany()
                        .HasForeignKey("ClerkId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("noava.Models.Deck", null)
                        .WithMany()
                        .HasForeignKey("DeckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("noava.Models.Classroom", b =>
                {
                    b.Navigation("ClassroomDecks");

                    b.Navigation("ClassroomUsers");
                });

            modelBuilder.Entity("noava.Models.Deck", b =>
                {
                    b.Navigation("ClassroomDecks");

                    b.Navigation("DeckUsers");
                });

            modelBuilder.Entity("noava.Models.Notification", b =>
                {
                    b.Navigation("Actions");
                });

            modelBuilder.Entity("noava.Models.School", b =>
                {
                    b.Navigation("Classrooms");

                    b.Navigation("SchoolAdmins");
                });

            modelBuilder.Entity("noava.Models.User", b =>
                {
                    b.Navigation("ClassroomUsers");

                    b.Navigation("Notifications");
                });
#pragma warning restore 612, 618
        }
    }
}
